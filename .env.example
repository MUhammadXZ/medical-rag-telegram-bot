# ==============================================================
# CMPA Medical RAG Telegram Bot Environment Template
# Required packages: python-telegram-bot>=21,<22 and python-dotenv>=1 (see requirements.txt).
# SECURITY: Never commit a real .env file with live tokens or database credentials.
# ==============================================================

# -----------------------------
# Bot Configuration (Required)
# -----------------------------
# Required. Telegram bot token from BotFather in the format <bot_id>:<secret>.
# Create one by messaging @BotFather and following: https://core.telegram.org/bots/tutorial#getting-ready
TELEGRAM_BOT_TOKEN=8545406200:AAFcBJ8z8qXXO3hB9k-rv02PoKPO9Tyx3oU

# Optional. Application logging level. Valid values: DEBUG, INFO, WARNING, ERROR.
# Fallback if missing/invalid: INFO.
LOG_LEVEL=INFO

# Optional. Comma-separated topics the bot is allowed to answer.
# Keep `cmpa` to enforce Cow's Milk Protein Allergy scope.
# Fallback if missing: cmpa.
ALLOWED_MEDICAL_TOPICS=cmpa

# -----------------------------
# RAG Service Artifacts
# -----------------------------
# Optional. Path to the FAISS index used by app/services/cmpa_rag_service.py.
# Override only if you moved artifacts. Use forward slashes for cross-platform compatibility.
# Default fallback: eval/faiss/guidelines.index
CMPA_INDEX_PATH=eval/faiss/guidelines.index

# Optional. Path to metadata JSON paired with CMPA_INDEX_PATH.
# Override when using a different knowledge base build.
# Default fallback: eval/faiss/guidelines_metadata.json
CMPA_METADATA_PATH=eval/faiss/guidelines_metadata.json

# -----------------------------
# Runtime / Performance
# -----------------------------
# Optional. Per-request timeout in seconds for CMPA answer generation.
# Recommended range: 5-60. Default fallback: 10.
CMPA_BOT_TIMEOUT_SECONDS=10

# Optional. Emergency override timeout in seconds for high-load incidents.
# If set (>0), the bot uses min(CMPA_BOT_TIMEOUT_SECONDS, CMPA_EMERGENCY_TIMEOUT_SECONDS).
# Recommended range: 3-30. Leave blank to disable.
CMPA_EMERGENCY_TIMEOUT_SECONDS=

# Optional. In-memory FAISS cache size in MB for index operations.
# Recommended range: 128-2048 depending on machine RAM.
# Fallback if missing: 500.
FAISS_CACHE_SIZE_MB=500

# -----------------------------
# Advanced / Optional
# -----------------------------
# Optional. Set for production webhook deployments. Leave blank for local polling mode.
# Example: https://your-domain.example.com/telegram/webhook
WEBHOOK_URL=

# Optional. Public HTTPS base URL used when setting webhooks dynamically.
WEBHOOK_BASE_URL=

# Optional. Network interface and port for webhook listener when WEBHOOK_URL is set.
WEBHOOK_LISTEN=0.0.0.0
WEBHOOK_PORT=8080

# Optional. Future PostgreSQL integration placeholder (see db/postgres_schema.sql).
# Example: postgresql://user:password@localhost:5432/cmpa_bot
DATABASE_URL=
